
<center><h2>IOT Thermostat</h2></center>

<% @thermostat.each do |t| %>
  <table cellspacing="0" cellpadding="0" width="80%" align="center" style="background-color:#FFF; color:#666666; font-family: avenir, Arial, 'Times New Roman', Times, serif;">
    <thead>
      <tr style="padding-top:10px; padding-bottom:10px; background-color:#f5f5f5;">
        <th>Id</th>
        <th>Household Token</th>
        <th>Location</th>
      </tr>
    </thead>
    <tbody>
      <tr style="background-color:#c56933; height:1px; font-size:0px;">
        <td colspan="3">&nbsp;</td>
      </tr>
      <tr>
        <th style="padding: 5px"><%= t.id %></th>
        <td style="text-align: center; padding: 5px;"><%= t.household_token %></td>
        <td style="padding: 5px"><%= t.location %></td>
      </tr>
    </tbody><br/>
  </table>
  <% if t.readers.present? %>
    <h3 style="margin-left:10%;">Thermostat Reading</h3>
    <table cellspacing="0" cellpadding="0" width="80%" align="center" style="background-color:#FFF; color:#999999;">
      <thead>
        <tr style="padding-top:10px; padding-bottom:10px; background-color:#f5f5f5;">
          <th>Number</th>
          <th>Temperature</th>
          <th>Humidity</th>
          <th>Battery Charge</th>
        </tr>
      </thead>
      <% t.readers.each do |r| %>
        <tbody>
          <tr>
            <th style="padding: 5px"><%= r.number %></th>
            <td style="text-align: center; padding: 5px;"><%= r.temperature %></td>
            <td style="text-align: center; padding: 5px;"><%= r.humidity %></td>
            <td style="text-align: center; padding: 5px;"><%= r.battery_charge %></td>
          </tr>
        </tbody>
      <% end %>
    </table><br/><br/><br/>
  <% else %>
    <h3>No reading found.</h3>
  <% end %>
<% end %>
